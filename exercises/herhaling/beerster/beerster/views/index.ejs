<%- include("partials/header") %>
<div id="container">
    <%- include("partials/navbar") %>
    <div>
        <div class="container mx-auto p-4 flex flex-1">
            <div class="w-2/3 mr-4">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h1 class="text-2xl font-semibold mb-4">Check-in at the Bar</h1>
                    <form method="post" action="/checkin">
                        <div class="flex flex-direction-row gap-4">
                            <div class="mb-4 flex-1"><label for="barId" class="block text-gray-700 font-semibold">Bar
                                    Name</label><select id="barId" name="barId"
                                    class="w-full p-2 border border-gray-300 rounded">
                                    <option hidden="" value="">-- Select a bar -- </option>
                                    <% for (let bar of bars) { %>
                                        <option value="<%= bar.id %>"><%= bar.name %></option>
                                    <% } %>
                                </select></div>
                            <div class="mb-4 flex-1"><label for="beerId" class="block text-gray-700 font-semibold">Beer
                                    Name</label><select id="beerId" name="beerId"
                                    class="w-full p-2 border border-gray-300 rounded">
                                    <option hidden="" value="" selected="">-- Select a beer -- </option>
                                    <% for (let beer of beers) { %>
                                        <option value="<%= beer.id %>"><%= beer.name %></option>
                                    <% } %>
                                </select></div>
                        </div>
                        <div class="mb-4"><label for="comment"
                                class="block text-gray-700 font-semibold">Comment</label><textarea id="comment"
                                name="comment" class="w-full p-2 border border-gray-300 rounded"></textarea></div>
                        <button
                            class="text-white bg-blue-500 hover:bg-blue-600 disabled:bg-gray-100 disabled:text-black font-semibold py-2 px-4 rounded focus:outline-none focus:shadow-outline-blue active:bg-blue-700">Check-in</button>
                    </form>
                </div>
                <%- include("partials/checkins", { checkins: checkins, showImage: true}) %>
            </div>
            <div class="w-1/3">
                <div class="bg-white gap-4 rounded-lg shadow-md mb-4 flex flex-col p-4">
                    <h2 class="text-xl font-semibold mb-4">Top Beers</h2>
                    <% for (let topBeer of topBeers) { %>
                        <a href="/beers/<%= topBeer.id %>">
                            <div class="flex flex-row gap-4"><img class="w-32 h-32 rounded-lg"
                                    src="<%= topBeer.logo %>">
                                <div>
                                    <p class="text-lg font-semibold"><%= topBeer.name %></p>
                                    <p class="text-sm"><%= topBeer.description %></p>
                                </div>
                            </div>
                        </a>
                    <% } %>
                </div>
                <div class="bg-white gap-4 rounded-lg shadow-md mb-4 flex flex-col p-4">
                    <h2 class="text-xl font-semibold mb-4">Top Bars</h2>
                    <% for (let topBar of topBars) { %>
                        <a href="/bars/<%= topBar.id %>">
                            <div class="flex flex-row gap-4"><img class="w-32 h-32 rounded-lg"
                                    src="<%= topBar.images[0] %>">
                                <div>
                                    <p class="text-lg font-semibold"><%= topBar.name %></p>
                                    <p class="text-sm"><%= topBar.description %></p>
                                </div>
                            </div>
                        </a>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
</div>
<%- include("partials/header") %>